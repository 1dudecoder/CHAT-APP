{"ast":null,"code":"import _slicedToArray from\"D:/my react project/pp/ChatAPP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"D:/my react project/pp/ChatAPP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{useState,useEffect}from\"react\";import AppBar from\"@material-ui/core/AppBar\";import CssBaseline from\"@material-ui/core/CssBaseline\";import Divider from\"@material-ui/core/Divider\";import Drawer from\"@material-ui/core/Drawer\";import Hidden from\"@material-ui/core/Hidden\";import IconButton from\"@material-ui/core/IconButton\";import MenuIcon from\"@material-ui/icons/Menu\";import Toolbar from\"@material-ui/core/Toolbar\";import Typography from\"@material-ui/core/Typography\";import{makeStyles,useTheme,withStyles}from\"@material-ui/core/styles\";import AccountCircle from\"@material-ui/icons/AccountCircle\";import MenuItem from\"@material-ui/core/MenuItem\";import Menu from\"@material-ui/core/Menu\";import Badge from\"@material-ui/core/Badge\";import Avatar from\"@material-ui/core/Avatar\";import{Grid}from\"@material-ui/core\";import{deepPurple}from\"@material-ui/core/colors\";import Rooms from\"./Rooms\";import{GoSignOut}from\"react-icons/go\";import{FaUserEdit}from\"react-icons/fa\";import{auth,db}from\"../Firebase/Firebase\";import{Link}from\"react-router-dom\";import EditProfile from\"./EditProfile\";import Fade from\"@material-ui/core/Fade\";import Snackbar from\"@material-ui/core/Snackbar\";import CloseIcon from\"@material-ui/icons/Close\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var drawerWidth=240;var StyledBadge=withStyles(function(theme){return{badge:{backgroundColor:\"#44b700\",color:\"#44b700\",boxShadow:\"0 0 0 2px \".concat(theme.palette.background.paper),\"&::after\":{position:\"absolute\",top:0,left:0,width:\"100%\",height:\"100%\",borderRadius:\"50%\",border:\"1px solid currentColor\",content:'\"\"'}},\"@keyframes ripple\":{\"0%\":{transform:\"scale(.8)\",opacity:1},\"100%\":{transform:\"scale(2.4)\",opacity:0}}};})(Badge);var useStyles=makeStyles(function(theme){var _appBar;return{root:{display:\"flex\"},avatarGrid:{paddingTop:\"20px\",paddingLeft:\"5px\",paddingBottom:\"20px\",color:\"#dcddde\"},avatarIcon:{display:\"flex\",paddingLeft:\"10px\",paddingRight:\"10px\"},avatarName:{fontSize:\"1em\",paddingLeft:\"12px\",paddingTop:\"8px\"},avatarDisplayName:{alignSelf:\"center\",paddingLeft:\"10px\",fontWeight:\"600\"},purple:{color:theme.palette.getContrastText(deepPurple[500]),backgroundColor:\"#3f51b5\"},drawer:_defineProperty({},theme.breakpoints.up(\"sm\"),{width:drawerWidth,flexShrink:0}),appBar:(_appBar={},_defineProperty(_appBar,theme.breakpoints.up(\"sm\"),{width:\"calc(100% - \".concat(drawerWidth,\"px)\"),marginLeft:drawerWidth}),_defineProperty(_appBar,\"backgroundColor\",\"#22273b\"),_defineProperty(_appBar,\"color\",\"#dcddde\"),_defineProperty(_appBar,\"boxShadow\",\"0 1px 0 rgba(4,4,5,0.2),0 1.5px 0 rgba(6,6,7,0.05),0 2px 0 rgba(4,4,5,0.05);\"),_appBar),menuButton:_defineProperty({marginRight:theme.spacing(2)},theme.breakpoints.up(\"sm\"),{display:\"none\"}),// necessary for content to be below app bar\ntoolbar:theme.mixins.toolbar,drawerPaper:{width:drawerWidth,backgroundColor:\"#171c2e\",color:\"white\"},sideToolBar:{backgroundColor:\"#171c2e\",color:\"#fff\",lineHeight:1.6,boxShadow:\"0 1px 0 rgba(4,4,5,0.2),0 1.5px 0 rgba(6,6,7,0.05),0 2px 0 rgba(4,4,5,0.05);\",minHeight:\"50px\"},sideToolBarText:{letterSpacing:\"0.2em\",fontWeight:\"900\"},title:{flexGrow:1}};});function Application(props){var window=props.window,uid=props.uid;var classes=useStyles();var theme=useTheme();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),mobileOpen=_React$useState2[0],setMobileOpen=_React$useState2[1];var _React$useState3=React.useState(null),_React$useState4=_slicedToArray(_React$useState3,2),anchorEl=_React$useState4[0],setAnchorEl=_React$useState4[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userDetails=_useState2[0],setUserDetails=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),editProfileModal=_useState4[0],setEditProfileModal=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),alert=_useState6[0],setAlert=_useState6[1];var open=Boolean(anchorEl);useEffect(function(){db.collection(\"users\").doc(uid).onSnapshot(function(doc){setUserDetails(doc.data());localStorage.setItem(\"userDetails\",JSON.stringify(doc.data()));});},[uid]);var handleMenu=function handleMenu(event){setAnchorEl(event.currentTarget);};var handleClose=function handleClose(){setAnchorEl(null);};var handleDrawerToggle=function handleDrawerToggle(){setMobileOpen(!mobileOpen);};var toggleEditProfile=function toggleEditProfile(){setEditProfileModal(!editProfileModal);};var handleAlert=function handleAlert(){setAlert(!alert);};var signOut=function signOut(){auth.signOut().then(function(){console.log(\"signed out\");localStorage.clear();}).catch(function(err){console.log(err);});};var drawer=userDetails&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Toolbar,{className:classes.sideToolBar,children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",className:classes.sideToolBarText,children:\"ChatApp\"})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(Grid,{className:classes.avatarGrid,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.avatarIcon,children:[/*#__PURE__*/_jsx(StyledBadge,{overlap:\"circle\",anchorOrigin:{vertical:\"bottom\",horizontal:\"right\"},variant:\"dot\",children:/*#__PURE__*/_jsx(Avatar,{alt:userDetails.name,src:userDetails.photoURL,className:classes.purple})}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",className:classes.avatarDisplayName,children:userDetails.displayName})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",className:classes.avatarName,children:userDetails.name}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",className:classes.avatarName,children:userDetails.email})]})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Rooms,{}),/*#__PURE__*/_jsx(Divider,{})]});var container=window!==undefined?function(){return window().document.body;}:undefined;return/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(Snackbar,{anchorOrigin:{vertical:\"top\",horizontal:\"center\"},open:alert,onClose:handleAlert,TransitionComponent:Fade,message:\"Display Name Updated Successfully\",action:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"close\",color:\"inherit\",onClick:handleAlert,children:/*#__PURE__*/_jsx(CloseIcon,{})})},Fade),editProfileModal?/*#__PURE__*/_jsx(EditProfile,{toggler:toggleEditProfile,alert:handleAlert}):null,/*#__PURE__*/_jsx(AppBar,{position:\"fixed\",className:classes.appBar,children:/*#__PURE__*/_jsxs(Toolbar,{style:{minHeight:\"50px\"},children:[/*#__PURE__*/_jsx(IconButton,{color:\"inherit\",\"aria-label\":\"open drawer\",edge:\"start\",onClick:handleDrawerToggle,className:classes.menuButton,children:/*#__PURE__*/_jsx(MenuIcon,{})}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",className:classes.title,children:/*#__PURE__*/_jsx(Link,{to:\"/\",style:{textDecoration:\"none\",color:\"#dcddde\"},children:\"Home\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"account of current user\",\"aria-controls\":\"menu-appbar\",\"aria-haspopup\":\"true\",onClick:handleMenu,color:\"inherit\",children:/*#__PURE__*/_jsx(AccountCircle,{})}),/*#__PURE__*/_jsxs(Menu,{id:\"menu-appbar\",anchorEl:anchorEl,getContentAnchorEl:null,anchorOrigin:{vertical:\"bottom\",horizontal:\"center\"},keepMounted:true,transformOrigin:{vertical:\"top\",horizontal:\"center\"},open:open,onClose:handleClose,children:[/*#__PURE__*/_jsxs(MenuItem,{onClick:toggleEditProfile,children:[/*#__PURE__*/_jsx(FaUserEdit,{}),\" \\xA0 Edit Profile\"]}),/*#__PURE__*/_jsxs(MenuItem,{onClick:signOut,children:[/*#__PURE__*/_jsx(GoSignOut,{}),\" \\xA0 Sign Out of Chatify\"]})]})]})]})}),/*#__PURE__*/_jsxs(\"nav\",{className:classes.drawer,\"aria-label\":\"chat rooms\",children:[/*#__PURE__*/_jsx(Hidden,{smUp:true,implementation:\"css\",children:/*#__PURE__*/_jsx(Drawer,{container:container,variant:\"temporary\",anchor:theme.direction===\"rtl\"?\"right\":\"left\",open:mobileOpen,onClose:handleDrawerToggle,classes:{paper:classes.drawerPaper},ModalProps:{keepMounted:true// Better open performance on mobile.\n},children:drawer})}),/*#__PURE__*/_jsx(Hidden,{xsDown:true,implementation:\"css\",children:/*#__PURE__*/_jsx(Drawer,{classes:{paper:classes.drawerPaper},variant:\"permanent\",open:true,children:drawer})})]})]});}export default Application;","map":{"version":3,"sources":["D:/my react project/pp/ChatAPP/src/Components/Application.js"],"names":["React","useState","useEffect","AppBar","CssBaseline","Divider","Drawer","Hidden","IconButton","MenuIcon","Toolbar","Typography","makeStyles","useTheme","withStyles","AccountCircle","MenuItem","Menu","Badge","Avatar","Grid","deepPurple","Rooms","GoSignOut","FaUserEdit","auth","db","Link","EditProfile","Fade","Snackbar","CloseIcon","drawerWidth","StyledBadge","theme","badge","backgroundColor","color","boxShadow","palette","background","paper","position","top","left","width","height","borderRadius","border","content","transform","opacity","useStyles","root","display","avatarGrid","paddingTop","paddingLeft","paddingBottom","avatarIcon","paddingRight","avatarName","fontSize","avatarDisplayName","alignSelf","fontWeight","purple","getContrastText","drawer","breakpoints","up","flexShrink","appBar","marginLeft","menuButton","marginRight","spacing","toolbar","mixins","drawerPaper","sideToolBar","lineHeight","minHeight","sideToolBarText","letterSpacing","title","flexGrow","Application","props","window","uid","classes","mobileOpen","setMobileOpen","anchorEl","setAnchorEl","userDetails","setUserDetails","editProfileModal","setEditProfileModal","alert","setAlert","open","Boolean","collection","doc","onSnapshot","data","localStorage","setItem","JSON","stringify","handleMenu","event","currentTarget","handleClose","handleDrawerToggle","toggleEditProfile","handleAlert","signOut","then","console","log","clear","catch","err","vertical","horizontal","name","photoURL","displayName","email","container","undefined","document","body","textDecoration","direction","keepMounted"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport Hidden from \"@material-ui/core/Hidden\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles, useTheme, withStyles } from \"@material-ui/core/styles\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { deepPurple } from \"@material-ui/core/colors\";\r\nimport Rooms from \"./Rooms\";\r\nimport { GoSignOut } from \"react-icons/go\";\r\nimport { FaUserEdit } from \"react-icons/fa\";\r\nimport { auth, db } from \"../Firebase/Firebase\";\r\nimport { Link } from \"react-router-dom\";\r\nimport EditProfile from \"./EditProfile\";\r\nimport Fade from \"@material-ui/core/Fade\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst StyledBadge = withStyles((theme) => ({\r\n  badge: {\r\n    backgroundColor: \"#44b700\",\r\n    color: \"#44b700\",\r\n    boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\r\n    \"&::after\": {\r\n      position: \"absolute\",\r\n      top: 0,\r\n      left: 0,\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n      borderRadius: \"50%\",\r\n      border: \"1px solid currentColor\",\r\n      content: '\"\"',\r\n    },\r\n  },\r\n  \"@keyframes ripple\": {\r\n    \"0%\": {\r\n      transform: \"scale(.8)\",\r\n      opacity: 1,\r\n    },\r\n    \"100%\": {\r\n      transform: \"scale(2.4)\",\r\n      opacity: 0,\r\n    },\r\n  },\r\n}))(Badge);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  avatarGrid: {\r\n    paddingTop: \"20px\",\r\n    paddingLeft: \"5px\",\r\n    paddingBottom: \"20px\",\r\n    color: \"#dcddde\",\r\n  },\r\n  avatarIcon: {\r\n    display: \"flex\",\r\n    paddingLeft: \"10px\",\r\n    paddingRight: \"10px\",\r\n  },\r\n  avatarName: {\r\n    fontSize: \"1em\",\r\n    paddingLeft: \"12px\",\r\n    paddingTop: \"8px\",\r\n  },\r\n  avatarDisplayName: {\r\n    alignSelf: \"center\",\r\n    paddingLeft: \"10px\",\r\n    fontWeight: \"600\",\r\n  },\r\n  purple: {\r\n    color: theme.palette.getContrastText(deepPurple[500]),\r\n    backgroundColor: \"#3f51b5\",\r\n  },\r\n  drawer: {\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n  },\r\n  appBar: {\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      marginLeft: drawerWidth,\r\n    },\r\n    backgroundColor: \"#22273b\",\r\n    color: \"#dcddde\",\r\n    boxShadow:\r\n      \"0 1px 0 rgba(4,4,5,0.2),0 1.5px 0 rgba(6,6,7,0.05),0 2px 0 rgba(4,4,5,0.05);\",\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n  // necessary for content to be below app bar\r\n  toolbar: theme.mixins.toolbar,\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n    backgroundColor: \"#171c2e\",\r\n    color: \"white\",\r\n  },\r\n  sideToolBar: {\r\n    backgroundColor: \"#171c2e\",\r\n    color: \"#fff\",\r\n    lineHeight: 1.6,\r\n    boxShadow:\r\n      \"0 1px 0 rgba(4,4,5,0.2),0 1.5px 0 rgba(6,6,7,0.05),0 2px 0 rgba(4,4,5,0.05);\",\r\n    minHeight: \"50px\",\r\n  },\r\n  sideToolBarText: {\r\n    letterSpacing: \"0.2em\",\r\n    fontWeight: \"900\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nfunction Application(props) {\r\n  const { window, uid } = props;\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [mobileOpen, setMobileOpen] = React.useState(false);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [userDetails, setUserDetails] = useState([]);\r\n  const [editProfileModal, setEditProfileModal] = useState(false);\r\n  const [alert, setAlert] = useState(false);\r\n  const open = Boolean(anchorEl);\r\n\r\n  useEffect(() => {\r\n    db.collection(\"users\")\r\n      .doc(uid)\r\n      .onSnapshot((doc) => {\r\n        setUserDetails(doc.data());\r\n        localStorage.setItem(\"userDetails\", JSON.stringify(doc.data()));\r\n      });\r\n  }, [uid]);\r\n\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleDrawerToggle = () => {\r\n    setMobileOpen(!mobileOpen);\r\n  };\r\n\r\n  const toggleEditProfile = () => {\r\n    setEditProfileModal(!editProfileModal);\r\n  };\r\n\r\n  const handleAlert = () => {\r\n    setAlert(!alert);\r\n  };\r\n\r\n  const signOut = () => {\r\n    auth\r\n      .signOut()\r\n      .then(() => {\r\n        console.log(\"signed out\");\r\n        localStorage.clear();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const drawer = userDetails && (\r\n    <div>\r\n      <Toolbar className={classes.sideToolBar}>\r\n        <Typography variant=\"h6\" className={classes.sideToolBarText}>\r\n          ChatApp\r\n        </Typography>\r\n      </Toolbar>\r\n      <Divider />\r\n      <Grid className={classes.avatarGrid}>\r\n        <div className={classes.avatarIcon}>\r\n          <StyledBadge\r\n            overlap=\"circle\"\r\n            anchorOrigin={{\r\n              vertical: \"bottom\",\r\n              horizontal: \"right\",\r\n            }}\r\n            variant=\"dot\"\r\n          >\r\n            <Avatar\r\n              alt={userDetails.name}\r\n              src={userDetails.photoURL}\r\n              className={classes.purple}\r\n            />\r\n          </StyledBadge>\r\n          <Typography variant=\"h6\" className={classes.avatarDisplayName}>\r\n            {userDetails.displayName}\r\n          </Typography>\r\n        </div>\r\n        <div>\r\n          <Typography variant=\"h4\" className={classes.avatarName}>\r\n            {userDetails.name}\r\n          </Typography>\r\n          <Typography variant=\"h4\" className={classes.avatarName}>\r\n            {userDetails.email}\r\n          </Typography>\r\n        </div>\r\n      </Grid>\r\n      <Divider />\r\n      <Rooms />\r\n      <Divider />\r\n    </div>\r\n  );\r\n\r\n  const container =\r\n    window !== undefined ? () => window().document.body : undefined;\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n\r\n      <Snackbar\r\n        anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n        open={alert}\r\n        onClose={handleAlert}\r\n        TransitionComponent={Fade}\r\n        message=\"Display Name Updated Successfully\"\r\n        key={Fade}\r\n        action={\r\n          <IconButton aria-label=\"close\" color=\"inherit\" onClick={handleAlert}>\r\n            <CloseIcon />\r\n          </IconButton>\r\n        }\r\n      />\r\n\r\n      {editProfileModal ? (\r\n        <EditProfile toggler={toggleEditProfile} alert={handleAlert} />\r\n      ) : null}\r\n\r\n      <AppBar position=\"fixed\" className={classes.appBar}>\r\n        <Toolbar style={{ minHeight: \"50px\" }}>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            edge=\"start\"\r\n            onClick={handleDrawerToggle}\r\n            className={classes.menuButton}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            <Link to=\"/\" style={{ textDecoration: \"none\", color: \"#dcddde\" }}>\r\n              Home\r\n            </Link>\r\n          </Typography>\r\n\r\n          <div>\r\n            <IconButton\r\n              aria-label=\"account of current user\"\r\n              aria-controls=\"menu-appbar\"\r\n              aria-haspopup=\"true\"\r\n              onClick={handleMenu}\r\n              color=\"inherit\"\r\n            >\r\n              <AccountCircle />\r\n            </IconButton>\r\n            <Menu\r\n              id=\"menu-appbar\"\r\n              anchorEl={anchorEl}\r\n              getContentAnchorEl={null}\r\n              anchorOrigin={{\r\n                vertical: \"bottom\",\r\n                horizontal: \"center\",\r\n              }}\r\n              keepMounted\r\n              transformOrigin={{\r\n                vertical: \"top\",\r\n                horizontal: \"center\",\r\n              }}\r\n              open={open}\r\n              onClose={handleClose}\r\n            >\r\n              <MenuItem onClick={toggleEditProfile}>\r\n                <FaUserEdit /> &nbsp; Edit Profile\r\n              </MenuItem>\r\n\r\n              <MenuItem onClick={signOut}>\r\n                <GoSignOut /> &nbsp; Sign Out of Chatify\r\n              </MenuItem>\r\n            </Menu>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n\r\n      <nav className={classes.drawer} aria-label=\"chat rooms\">\r\n        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\r\n        <Hidden smUp implementation=\"css\">\r\n          <Drawer\r\n            container={container}\r\n            variant=\"temporary\"\r\n            anchor={theme.direction === \"rtl\" ? \"right\" : \"left\"}\r\n            open={mobileOpen}\r\n            onClose={handleDrawerToggle}\r\n            classes={{\r\n              paper: classes.drawerPaper,\r\n            }}\r\n            ModalProps={{\r\n              keepMounted: true, // Better open performance on mobile.\r\n            }}\r\n          >\r\n            {drawer}\r\n          </Drawer>\r\n        </Hidden>\r\n\r\n        <Hidden xsDown implementation=\"css\">\r\n          <Drawer\r\n            classes={{\r\n              paper: classes.drawerPaper,\r\n            }}\r\n            variant=\"permanent\"\r\n            open\r\n          >\r\n            {drawer}\r\n          </Drawer>\r\n        </Hidden>\r\n      </nav>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Application;\r\n"]},"metadata":{},"sourceType":"module"}