{"ast":null,"code":"import _slicedToArray from\"D:/my react project/pp/ChatAPP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import List from\"@material-ui/core/List\";import ListItem from\"@material-ui/core/ListItem\";import ListItemIcon from\"@material-ui/core/ListItemIcon\";import ListItemText from\"@material-ui/core/ListItemText\";import Collapse from\"@material-ui/core/Collapse\";import ExpandLess from\"@material-ui/icons/ExpandLess\";import ExpandMore from\"@material-ui/icons/ExpandMore\";import IconButton from\"@material-ui/core/IconButton\";import Divider from\"@material-ui/core/Divider\";import AddIcon from\"@material-ui/icons/Add\";import{db}from\"../Firebase/Firebase\";import{useHistory}from\"react-router-dom\";import{IoMdChatboxes}from\"react-icons/io\";import{BiHash}from\"react-icons/bi\";import CreateRoom from\"./CreateRoom\";import Fade from\"@material-ui/core/Fade\";import Snackbar from\"@material-ui/core/Snackbar\";import CloseIcon from\"@material-ui/icons/Close\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{nested:{paddingLeft:theme.spacing(4)},iconDesign:{fontSize:\"1.5em\",color:\"#cb43fc\"},primary:{color:\"#cb43fc\"}};});function Rooms(){var classes=useStyles();var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),channelList=_useState2[0],setChannelList=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showCreateRoom=_useState4[0],setShowCreateRoom=_useState4[1];var history=useHistory();var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),alert=_useState6[0],setAlert=_useState6[1];useEffect(function(){db.collection(\"channels\").orderBy(\"channelName\",\"asc\").onSnapshot(function(snapshot){setChannelList(snapshot.docs.map(function(channel){return{channelName:channel.data().channelName,id:channel.id};}));});},[]);var handleClick=function handleClick(){setOpen(!open);};var goToChannel=function goToChannel(id){history.push(\"/channel/\".concat(id));};var manageCreateRoomModal=function manageCreateRoomModal(){setShowCreateRoom(!showCreateRoom);};var handleAlert=function handleAlert(){setAlert(!alert);};var addChannel=function addChannel(cName){if(cName){cName=cName.toLowerCase();for(var i=0;i<channelList.length;i++){if(cName===channelList[i].channelName){handleAlert();return;}}db.collection(\"channels\").add({channelName:cName.toLowerCase()}).then(function(res){console.log(\"added new channel\");}).then(function(err){console.log(err);});}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Snackbar,{anchorOrigin:{vertical:\"top\",horizontal:\"center\"},open:alert,onClose:handleAlert,TransitionComponent:Fade,message:\"Room Name Already Exits!!\",action:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"close\",color:\"inherit\",onClick:handleAlert,children:/*#__PURE__*/_jsx(CloseIcon,{})})},Fade),showCreateRoom?/*#__PURE__*/_jsx(CreateRoom,{create:addChannel,manage:manageCreateRoomModal}):null,/*#__PURE__*/_jsxs(ListItem,{style:{paddingTop:0,paddingBottom:0},children:[/*#__PURE__*/_jsx(ListItemText,{primary:\"Create New Channel\"}),/*#__PURE__*/_jsx(IconButton,{edge:\"end\",\"aria-label\":\"add\",onClick:manageCreateRoomModal,children:/*#__PURE__*/_jsx(AddIcon,{className:classes.primary})})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(List,{component:\"nav\",\"aria-labelledby\":\"nested-list-subheader\",children:[/*#__PURE__*/_jsxs(ListItem,{button:true,onClick:handleClick,children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(IoMdChatboxes,{className:classes.iconDesign})}),/*#__PURE__*/_jsx(ListItemText,{primary:\"CHANNELS\",style:{color:\"#8e9297\"}}),open?/*#__PURE__*/_jsx(ExpandLess,{className:classes.primary}):/*#__PURE__*/_jsx(ExpandMore,{className:classes.primary})]}),/*#__PURE__*/_jsx(Collapse,{in:open,timeout:\"auto\",children:/*#__PURE__*/_jsx(List,{component:\"div\",disablePadding:true,children:channelList.map(function(channel){return/*#__PURE__*/_jsxs(ListItem,{button:true,className:classes.nested,onClick:function onClick(){return goToChannel(channel.id);},children:[/*#__PURE__*/_jsx(ListItemIcon,{style:{minWidth:\"30px\"},children:/*#__PURE__*/_jsx(BiHash,{className:classes.iconDesign,style:{color:\"#b9bbbe\"}})}),/*#__PURE__*/_jsx(ListItemText,{primary:channel.channelName,style:{color:\"#dcddde\"}})]},channel.id);})})})]})]});}export default Rooms;","map":{"version":3,"sources":["D:/my react project/pp/ChatAPP/src/Components/Rooms.js"],"names":["React","useState","useEffect","makeStyles","List","ListItem","ListItemIcon","ListItemText","Collapse","ExpandLess","ExpandMore","IconButton","Divider","AddIcon","db","useHistory","IoMdChatboxes","BiHash","CreateRoom","Fade","Snackbar","CloseIcon","useStyles","theme","nested","paddingLeft","spacing","iconDesign","fontSize","color","primary","Rooms","classes","open","setOpen","channelList","setChannelList","showCreateRoom","setShowCreateRoom","history","alert","setAlert","collection","orderBy","onSnapshot","snapshot","docs","map","channel","channelName","data","id","handleClick","goToChannel","push","manageCreateRoomModal","handleAlert","addChannel","cName","toLowerCase","i","length","add","then","res","console","log","err","vertical","horizontal","paddingTop","paddingBottom","minWidth"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\r\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport { db } from \"../Firebase/Firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { IoMdChatboxes } from \"react-icons/io\";\r\nimport { BiHash } from \"react-icons/bi\";\r\nimport CreateRoom from \"./CreateRoom\";\r\nimport Fade from \"@material-ui/core/Fade\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  nested: {\r\n    paddingLeft: theme.spacing(4),\r\n  },\r\n  iconDesign: {\r\n    fontSize: \"1.5em\",\r\n    color: \"#cb43fc\",\r\n  },\r\n  primary: {\r\n    color: \"#cb43fc\",\r\n  },\r\n}));\r\n\r\nfunction Rooms() {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(true);\r\n  const [channelList, setChannelList] = useState([]);\r\n  const [showCreateRoom, setShowCreateRoom] = useState(false);\r\n  const history = useHistory();\r\n  const [alert, setAlert] = useState(false);\r\n\r\n  useEffect(() => {\r\n    db.collection(\"channels\")\r\n      .orderBy(\"channelName\", \"asc\")\r\n      .onSnapshot((snapshot) => {\r\n        setChannelList(\r\n          snapshot.docs.map((channel) => ({\r\n            channelName: channel.data().channelName,\r\n            id: channel.id,\r\n          }))\r\n        );\r\n      });\r\n  }, []);\r\n\r\n  const handleClick = () => {\r\n    setOpen(!open);\r\n  };\r\n\r\n  const goToChannel = (id) => {\r\n    history.push(`/channel/${id}`);\r\n  };\r\n\r\n  const manageCreateRoomModal = () => {\r\n    setShowCreateRoom(!showCreateRoom);\r\n  };\r\n\r\n  const handleAlert = () => {\r\n    setAlert(!alert);\r\n  };\r\n\r\n  const addChannel = (cName) => {\r\n    if (cName) {\r\n      cName = cName.toLowerCase();\r\n      for (var i = 0; i < channelList.length; i++) {\r\n        if (cName === channelList[i].channelName) {\r\n          handleAlert();\r\n          return;\r\n        }\r\n      }\r\n\r\n      db.collection(\"channels\")\r\n        .add({ channelName: cName.toLowerCase() })\r\n        .then((res) => {\r\n          console.log(\"added new channel\");\r\n        })\r\n        .then((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Snackbar\r\n        anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n        open={alert}\r\n        onClose={handleAlert}\r\n        TransitionComponent={Fade}\r\n        message=\"Room Name Already Exits!!\"\r\n        key={Fade}\r\n        action={\r\n          <IconButton aria-label=\"close\" color=\"inherit\" onClick={handleAlert}>\r\n            <CloseIcon />\r\n          </IconButton>\r\n        }\r\n      />\r\n\r\n      {showCreateRoom ? (\r\n        <CreateRoom create={addChannel} manage={manageCreateRoomModal} />\r\n      ) : null}\r\n      <ListItem style={{ paddingTop: 0, paddingBottom: 0 }}>\r\n        <ListItemText primary=\"Create New Channel\" />\r\n        <IconButton edge=\"end\" aria-label=\"add\" onClick={manageCreateRoomModal}>\r\n          <AddIcon className={classes.primary} />\r\n        </IconButton>\r\n      </ListItem>\r\n      <Divider />\r\n\r\n      <List component=\"nav\" aria-labelledby=\"nested-list-subheader\">\r\n        <ListItem button onClick={handleClick}>\r\n          <ListItemIcon>\r\n            <IoMdChatboxes className={classes.iconDesign} />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"CHANNELS\" style={{ color: \"#8e9297\" }} />\r\n          {open ? (\r\n            <ExpandLess className={classes.primary} />\r\n          ) : (\r\n            <ExpandMore className={classes.primary} />\r\n          )}\r\n        </ListItem>\r\n\r\n        <Collapse in={open} timeout=\"auto\">\r\n          <List component=\"div\" disablePadding>\r\n            {channelList.map((channel) => (\r\n              <ListItem\r\n                key={channel.id}\r\n                button\r\n                className={classes.nested}\r\n                onClick={() => goToChannel(channel.id)}\r\n              >\r\n                <ListItemIcon style={{ minWidth: \"30px\" }}>\r\n                  <BiHash\r\n                    className={classes.iconDesign}\r\n                    style={{ color: \"#b9bbbe\" }}\r\n                  />\r\n                </ListItemIcon>\r\n                <ListItemText\r\n                  primary={channel.channelName}\r\n                  style={{ color: \"#dcddde\" }}\r\n                />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        </Collapse>\r\n      </List>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Rooms;\r\n"]},"metadata":{},"sourceType":"module"}