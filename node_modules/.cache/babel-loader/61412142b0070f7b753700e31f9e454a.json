{"ast":null,"code":"import _slicedToArray from\"D:/my react project/pp/ChatAPP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Button from\"@material-ui/core/Button\";import TextField from\"@material-ui/core/TextField\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogTitle from\"@material-ui/core/DialogTitle\";import{db}from\"../Firebase/Firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfile(_ref){var toggler=_ref.toggler,alert=_ref.alert;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),userName=_useState4[0],setUserName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),displayName=_useState6[0],setDisplayName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setEmail=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),uid=_useState10[0],setUid=_useState10[1];var handleClose=function handleClose(){setOpen(false);toggler();};var updateProfile=function updateProfile(e){e.preventDefault();db.collection(\"users\").doc(uid).update({displayName:displayName}).then(function(res){alert();}).catch(function(err){console.log(err);});setOpen(false);toggler();};useEffect(function(){var userData=JSON.parse(localStorage.getItem(\"userDetails\"));setUserName(userData.name);setDisplayName(userData.displayName);setEmail(userData.email);setUid(userData.uid);},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,\"aria-labelledby\":\"form-dialog-title\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"form-dialog-title\",children:\"Edit User Profile\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",children:[/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"Name\",fullWidth:true,margin:\"normal\",variant:\"outlined\",disabled:true,value:userName,style:{backgroundColor:\"rgb(45, 45, 73)\",borderRadius:\"5px\",color:\"#a6a6a6\"}}),/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"Email\",fullWidth:true,margin:\"normal\",variant:\"outlined\",disabled:true,value:email,style:{backgroundColor:\"rgb(45, 45, 73)\",borderRadius:\"5px\",color:\"#a6a6a6\"}}),/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"Display Name\",fullWidth:true,margin:\"normal\",variant:\"outlined\",value:displayName,style:{backgroundColor:\"rgb(45, 45, 73)\",borderRadius:\"5px\"},onChange:function onChange(e){setDisplayName(e.target.value);}})]})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,style:{color:\"white\"},children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(e){return updateProfile(e);},color:\"primary\",variant:\"contained\",children:\"Update\"})]})]})});}export default EditProfile;","map":{"version":3,"sources":["D:/my react project/pp/ChatAPP/src/Components/EditProfile.js"],"names":["React","useState","useEffect","Button","TextField","Dialog","DialogActions","DialogContent","DialogTitle","db","EditProfile","toggler","alert","open","setOpen","userName","setUserName","displayName","setDisplayName","email","setEmail","uid","setUid","handleClose","updateProfile","e","preventDefault","collection","doc","update","then","res","catch","err","console","log","userData","JSON","parse","localStorage","getItem","name","backgroundColor","borderRadius","color","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport { db } from \"../Firebase/Firebase\";\r\n\r\nfunction EditProfile({ toggler, alert }) {\r\n  const [open, setOpen] = useState(true);\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [displayName, setDisplayName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [uid, setUid] = useState(\"\");\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    toggler();\r\n  };\r\n\r\n  const updateProfile = (e) => {\r\n    e.preventDefault();\r\n    db.collection(\"users\")\r\n      .doc(uid)\r\n      .update({\r\n        displayName: displayName,\r\n      })\r\n      .then((res) => {\r\n        alert();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    setOpen(false);\r\n    toggler();\r\n  };\r\n\r\n  useEffect(() => {\r\n    const userData = JSON.parse(localStorage.getItem(\"userDetails\"));\r\n    setUserName(userData.name);\r\n    setDisplayName(userData.displayName);\r\n    setEmail(userData.email);\r\n    setUid(userData.uid);\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">Edit User Profile</DialogTitle>\r\n        <DialogContent>\r\n          <form autoComplete=\"off\">\r\n            <TextField\r\n              id=\"outlined-basic\"\r\n              label=\"Name\"\r\n              fullWidth\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n              disabled\r\n              value={userName}\r\n              style={{\r\n                backgroundColor: \"rgb(45, 45, 73)\",\r\n                borderRadius: \"5px\",\r\n                color: \"#a6a6a6\",\r\n              }}\r\n            />\r\n            <TextField\r\n              id=\"outlined-basic\"\r\n              label=\"Email\"\r\n              fullWidth\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n              disabled\r\n              value={email}\r\n              style={{\r\n                backgroundColor: \"rgb(45, 45, 73)\",\r\n                borderRadius: \"5px\",\r\n                color: \"#a6a6a6\",\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              id=\"outlined-basic\"\r\n              label=\"Display Name\"\r\n              fullWidth\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n              value={displayName}\r\n              style={{\r\n                backgroundColor: \"rgb(45, 45, 73)\",\r\n                borderRadius: \"5px\",\r\n              }}\r\n              onChange={(e) => {\r\n                setDisplayName(e.target.value);\r\n              }}\r\n            />\r\n          </form>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} style={{ color: \"white\" }}>\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={(e) => updateProfile(e)}\r\n            color=\"primary\"\r\n            variant=\"contained\"\r\n          >\r\n            Update\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditProfile;\r\n"]},"metadata":{},"sourceType":"module"}