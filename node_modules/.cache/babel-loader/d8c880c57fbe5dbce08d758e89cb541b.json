{"ast":null,"code":"import _slicedToArray from\"D:/my react project/pp/ChatAPP/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import Application from\"./Components/Application\";import Chat from\"./Components/Chat\";import Login from\"./Components/SignUp\";import Home from\"./Components/Home\";import{BrowserRouter as Router,Switch,Route}from\"react-router-dom\";import{auth,db}from\"./Firebase/Firebase\";import\"./App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{display:\"flex\"},toolbar:theme.mixins.toolbar,content:{flexGrow:1,backgroundColor:\"#22273b !important\",height:\"100vh\"}};});function App(){var classes=useStyles();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];useEffect(function(){auth.onAuthStateChanged(function(user){if(user){db.collection(\"users\").doc(user.uid).get().then(function(doc){if(doc.exists){console.log(\"user exits\");}else{var details={name:user.displayName,displayName:user.displayName.split(\" \")[0],photoURL:user.photoURL,email:user.email,uid:user.uid};db.collection(\"users\").doc(user.uid).set(details).then(function(res){console.log(\"new user created\");}).catch(function(err){console.log(err);});}}).catch(function(err){console.log(err);});setUser(user.uid);}else{setUser(null);}});},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(Router,{children:!user?/*#__PURE__*/_jsx(Login,{}):/*#__PURE__*/_jsxs(\"div\",{className:classes.root,children:[/*#__PURE__*/_jsx(Application,{uid:user}),/*#__PURE__*/_jsxs(\"main\",{className:classes.content,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.toolbar,style:{minHeight:\"50px\"}}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,children:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/channel/:id\",children:/*#__PURE__*/_jsx(Chat,{})})]})]})]})})});}export default App;","map":{"version":3,"sources":["D:/my react project/pp/ChatAPP/src/App.js"],"names":["useState","useEffect","makeStyles","Application","Chat","Login","Home","BrowserRouter","Router","Switch","Route","auth","db","useStyles","theme","root","display","toolbar","mixins","content","flexGrow","backgroundColor","height","App","classes","user","setUser","onAuthStateChanged","collection","doc","uid","get","then","exists","console","log","details","name","displayName","split","photoURL","email","set","res","catch","err","minHeight"],"mappings":"qJAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,MAAlC,CAA0CC,KAA1C,KAAuD,kBAAvD,CACA,OAASC,IAAT,CAAeC,EAAf,KAAyB,qBAAzB,CACA,MAAO,WAAP,C,wFAEA,GAAMC,CAAAA,SAAS,CAAGX,UAAU,CAAC,SAACY,KAAD,QAAY,CACvCC,IAAI,CAAE,CACJC,OAAO,CAAE,MADL,CADiC,CAIvCC,OAAO,CAAEH,KAAK,CAACI,MAAN,CAAaD,OAJiB,CAKvCE,OAAO,CAAE,CACPC,QAAQ,CAAE,CADH,CAEPC,eAAe,CAAE,oBAFV,CAGPC,MAAM,CAAE,OAHD,CAL8B,CAAZ,EAAD,CAA5B,CAYA,QAASC,CAAAA,GAAT,EAAe,CACb,GAAMC,CAAAA,OAAO,CAAGX,SAAS,EAAzB,CADa,cAEWb,QAAQ,CAAC,IAAD,CAFnB,wCAENyB,IAFM,eAEAC,OAFA,eAIbzB,SAAS,CAAC,UAAM,CACdU,IAAI,CAACgB,kBAAL,CAAwB,SAACF,IAAD,CAAU,CAChC,GAAIA,IAAJ,CAAU,CACRb,EAAE,CAACgB,UAAH,CAAc,OAAd,EACGC,GADH,CACOJ,IAAI,CAACK,GADZ,EAEGC,GAFH,GAGGC,IAHH,CAGQ,SAACH,GAAD,CAAS,CACb,GAAIA,GAAG,CAACI,MAAR,CAAgB,CACdC,OAAO,CAACC,GAAR,CAAY,YAAZ,EACD,CAFD,IAEO,CACL,GAAMC,CAAAA,OAAO,CAAG,CACdC,IAAI,CAAEZ,IAAI,CAACa,WADG,CAEdA,WAAW,CAAEb,IAAI,CAACa,WAAL,CAAiBC,KAAjB,CAAuB,GAAvB,EAA4B,CAA5B,CAFC,CAGdC,QAAQ,CAAEf,IAAI,CAACe,QAHD,CAIdC,KAAK,CAAEhB,IAAI,CAACgB,KAJE,CAKdX,GAAG,CAAEL,IAAI,CAACK,GALI,CAAhB,CAOAlB,EAAE,CAACgB,UAAH,CAAc,OAAd,EACGC,GADH,CACOJ,IAAI,CAACK,GADZ,EAEGY,GAFH,CAEON,OAFP,EAGGJ,IAHH,CAGQ,SAACW,GAAD,CAAS,CACbT,OAAO,CAACC,GAAR,CAAY,kBAAZ,EACD,CALH,EAMGS,KANH,CAMS,SAACC,GAAD,CAAS,CACdX,OAAO,CAACC,GAAR,CAAYU,GAAZ,EACD,CARH,EASD,CACF,CAxBH,EAyBGD,KAzBH,CAyBS,SAACC,GAAD,CAAS,CACdX,OAAO,CAACC,GAAR,CAAYU,GAAZ,EACD,CA3BH,EA6BAnB,OAAO,CAACD,IAAI,CAACK,GAAN,CAAP,CACD,CA/BD,IA+BO,CACLJ,OAAO,CAAC,IAAD,CAAP,CACD,CACF,CAnCD,EAoCD,CArCQ,CAqCN,EArCM,CAAT,CAuCA,mBACE,YAAK,SAAS,CAAC,KAAf,uBACE,KAAC,MAAD,WACG,CAACD,IAAD,cACC,KAAC,KAAD,IADD,cAGC,aAAK,SAAS,CAAED,OAAO,CAACT,IAAxB,wBACE,KAAC,WAAD,EAAa,GAAG,CAAEU,IAAlB,EADF,cAEE,cAAM,SAAS,CAAED,OAAO,CAACL,OAAzB,wBACE,YAAK,SAAS,CAAEK,OAAO,CAACP,OAAxB,CAAiC,KAAK,CAAE,CAAE6B,SAAS,CAAE,MAAb,CAAxC,EADF,cAEE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,KAAK,KAArB,uBACE,KAAC,IAAD,IADF,EADF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,cAAZ,uBACE,KAAC,IAAD,IADF,EAJF,GAFF,GAFF,GAJJ,EADF,EADF,CAwBD,CAED,cAAevB,CAAAA,GAAf","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Application from \"./Components/Application\";\r\nimport Chat from \"./Components/Chat\";\r\nimport Login from \"./Components/SignUp\";\r\nimport Home from \"./Components/Home\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport { auth, db } from \"./Firebase/Firebase\";\r\nimport \"./App.css\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  toolbar: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    backgroundColor: \"#22273b !important\",\r\n    height: \"100vh\",\r\n  },\r\n}));\r\n\r\nfunction App() {\r\n  const classes = useStyles();\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        db.collection(\"users\")\r\n          .doc(user.uid)\r\n          .get()\r\n          .then((doc) => {\r\n            if (doc.exists) {\r\n              console.log(\"user exits\");\r\n            } else {\r\n              const details = {\r\n                name: user.displayName,\r\n                displayName: user.displayName.split(\" \")[0],\r\n                photoURL: user.photoURL,\r\n                email: user.email,\r\n                uid: user.uid,\r\n              };\r\n              db.collection(\"users\")\r\n                .doc(user.uid)\r\n                .set(details)\r\n                .then((res) => {\r\n                  console.log(\"new user created\");\r\n                })\r\n                .catch((err) => {\r\n                  console.log(err);\r\n                });\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n\r\n        setUser(user.uid);\r\n      } else {\r\n        setUser(null);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        {!user ? (\r\n          <Login />\r\n        ) : (\r\n          <div className={classes.root}>\r\n            <Application uid={user} />\r\n            <main className={classes.content}>\r\n              <div className={classes.toolbar} style={{ minHeight: \"50px\" }} />\r\n              <Switch>\r\n                <Route path=\"/\" exact>\r\n                  <Home />\r\n                </Route>\r\n                <Route path=\"/channel/:id\">\r\n                  <Chat />\r\n                </Route>\r\n              </Switch>\r\n            </main>\r\n          </div>\r\n        )}\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}